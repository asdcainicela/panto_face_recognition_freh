[project]
name = "panto_1440p"
version = "1.0.0"

[camera]
resolution = [2560, 1440]
fps_target = 22
device_id = 0
backend = "gstreamer"

[camera.roi]
enabled = false

[detection]
model = "retinaface"
model_path = "models/retinaface_mobilenet.onnx"
backend = "onnx"
use_gpu = true
min_face_size = 60
confidence_threshold = 0.65
nms_threshold = 0.4

[tracking]
algorithm = "bytetrack"
max_tracks = 5
max_age = 30
min_hits = 3
direction_filter = "approaching"
ignore_leaving = true

[superresolution]
enabled = true
conditional_threshold = 110
model = "realesr_x2"
model_path = "models/realesr_x2.onnx"
target_size = 256
use_gpu = true

[recognition]
model = "arcface_r100"
model_path = "models/arcface_r100.onnx"
backend = "onnx"
use_gpu = true
embedding_size = 512
strategy = "multi_frame_voting"
min_frames = 12
confidence_threshold = 0.32

[zones]
enabled = true

[zones.far]
min_face_size = 60
max_face_size = 110
action = "track_only"
apply_sr = true
confidence_threshold = 0.55
frame_weight = 0.3

[zones.approach]
min_face_size = 110
max_face_size = 160
action = "accumulate"
apply_sr = false
confidence_threshold = 0.40
frame_weight = 0.5

[zones.optimal]
min_face_size = 160
max_face_size = 240
action = "definitive_match"
apply_sr = false
confidence_threshold = 0.32
frame_weight = 1.0
trigger_decision = true

[zones.close]
min_face_size = 240
action = "verify_and_log"
apply_sr = false
confidence_threshold = 0.28
frame_weight = 1.0

[matching]
database_path = "data/known_faces.db"
distance_metric = "cosine"
unknown_person_threshold = 0.57

[output]
display_output = true
draw_detections = true
draw_tracks = true
draw_roi = false
draw_fps = true